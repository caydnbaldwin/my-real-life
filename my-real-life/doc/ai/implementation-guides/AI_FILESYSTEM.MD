# AI Filesystem Structure Instructions

This document defines the established filesystem structure for this Next.js project. **All AI agents must strictly adhere to this structure and follow the architectural principles outlined in `AI_NEXTJS_FRAMEWORK.MD`.**

## Current Filesystem Structure

The project follows this exact filesystem organization:

```
my-real-life/
â”œâ”€â”€ .gitignore                  # Git ignore patterns
â”œâ”€â”€ .next/                      # Next.js build output (auto-generated)
â”œâ”€â”€ doc/                        # AI instruction documentation
â”‚   â”œâ”€â”€ AI_ALL_IN_ONE.MD       # Master AI instruction index
â”‚   â”œâ”€â”€ AI_INITIAL_PROMPT.MD   # Initial prompt instructions
â”‚   â”œâ”€â”€ AI_NEXTJS_FRAMEWORK.MD # Next.js framework guidelines
â”‚   â””â”€â”€ AI_FILESYSTEM.MD       # This file
â”œâ”€â”€ next-env.d.ts              # Next.js TypeScript declarations
â”œâ”€â”€ next.config.ts             # Next.js configuration
â”œâ”€â”€ node_modules/              # Dependencies (auto-generated)
â”œâ”€â”€ package.json               # Project dependencies and scripts
â”œâ”€â”€ pnpm-lock.yaml            # Package manager lock file
â”œâ”€â”€ postcss.config.mjs        # PostCSS configuration
â”œâ”€â”€ public/                    # Static assets
â”‚   â”œâ”€â”€ file.svg
â”‚   â”œâ”€â”€ globe.svg
â”‚   â”œâ”€â”€ next.svg
â”‚   â”œâ”€â”€ vercel.svg
â”‚   â””â”€â”€ window.svg
â”œâ”€â”€ README.md                  # Project documentation
â”œâ”€â”€ src/                       # Source code directory
â”‚   â””â”€â”€ app/                   # Next.js App Router directory
â”‚       â”œâ”€â”€ favicon.ico        # Application favicon
â”‚       â”œâ”€â”€ globals.css        # Global CSS styles
â”‚       â”œâ”€â”€ layout.tsx         # Root layout component
â”‚       â””â”€â”€ page.tsx           # Home page component
â””â”€â”€ tsconfig.json             # TypeScript configuration
```

## File Placement Decision Flowchart

### "Where Does This File Belong?" Decision Tree
```
Need to add a new file?
â”œâ”€â”€ Is it a page/route?
â”‚   â”œâ”€â”€ Yes â†’ src/app/ (follow App Router conventions)
â”‚   â”‚   â”œâ”€â”€ API endpoint? â†’ src/app/api/[name]/route.ts
â”‚   â”‚   â”œâ”€â”€ Page component? â†’ src/app/[route]/page.tsx
â”‚   â”‚   â”œâ”€â”€ Layout component? â†’ src/app/[route]/layout.tsx
â”‚   â”‚   â””â”€â”€ Loading/Error UI? â†’ src/app/[route]/(loading|error).tsx
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it a reusable component?
â”‚   â”œâ”€â”€ Yes â†’ src/components/
â”‚   â”‚   â”œâ”€â”€ UI component? â†’ src/components/ui/
â”‚   â”‚   â”œâ”€â”€ Form component? â†’ src/components/forms/
â”‚   â”‚   â”œâ”€â”€ Layout component? â†’ src/components/layout/
â”‚   â”‚   â””â”€â”€ Feature component? â†’ src/components/features/
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it a utility/helper?
â”‚   â”œâ”€â”€ Yes â†’ src/lib/
â”‚   â”‚   â”œâ”€â”€ Authentication? â†’ src/lib/auth.ts
â”‚   â”‚   â”œâ”€â”€ Database? â†’ src/lib/db.ts
â”‚   â”‚   â”œâ”€â”€ Validation? â†’ src/lib/validations.ts
â”‚   â”‚   â””â”€â”€ General utility? â†’ src/lib/utils.ts
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it a custom hook?
â”‚   â”œâ”€â”€ Yes â†’ src/hooks/
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it a type definition?
â”‚   â”œâ”€â”€ Yes â†’ src/types/
â”‚   â”‚   â”œâ”€â”€ API types? â†’ src/types/api.ts
â”‚   â”‚   â””â”€â”€ Global types? â†’ src/types/global.d.ts
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it styling/CSS?
â”‚   â”œâ”€â”€ Yes â†’ src/styles/ or src/app/globals.css
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it a constant/config?
â”‚   â”œâ”€â”€ Yes â†’ src/constants/
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it a static asset?
â”‚   â”œâ”€â”€ Yes â†’ public/ (images, icons, etc.)
â”‚   â””â”€â”€ No â†’ Continue below
â”œâ”€â”€ Is it project configuration?
â”‚   â”œâ”€â”€ Yes â†’ Project root (next.config.ts, package.json, etc.)
â”‚   â””â”€â”€ No â†’ Continue below
â””â”€â”€ Is it documentation?
    â”œâ”€â”€ Yes â†’ doc/ (AI instructions)
    â””â”€â”€ No â†’ Consult AI_NEXTJS_FRAMEWORK.MD for guidance
```

## Filesystem Architecture Principles

### Core Directory Rules

**Essential Structure:**
1. **Source Code**: All application code in `src/`
2. **App Router**: Use `src/app/` for Next.js routing
3. **Static Assets**: Place in `public/`
4. **Documentation**: Maintain in `doc/`
5. **Configuration**: Keep in project root

### Directory Structure Template

When adding new functionality, follow this structure within `src/`:

```
src/
â”œâ”€â”€ app/                        # Next.js App Router (MANDATORY)
â”‚   â”œâ”€â”€ (auth)/                # Route groups for authentication
â”‚   â”œâ”€â”€ (dashboard)/           # Route groups for dashboard
â”‚   â”œâ”€â”€ api/                   # API route handlers
â”‚   â”‚   â””â”€â”€ route.ts           # API endpoints
â”‚   â”œâ”€â”€ globals.css            # Global styles
â”‚   â”œâ”€â”€ layout.tsx             # Root layout
â”‚   â”œâ”€â”€ loading.tsx            # Global loading UI
â”‚   â”œâ”€â”€ error.tsx              # Global error UI
â”‚   â”œâ”€â”€ not-found.tsx          # 404 page
â”‚   â””â”€â”€ page.tsx               # Home page
â”œâ”€â”€ components/                 # Reusable UI components
â”‚   â”œâ”€â”€ ui/                    # Base UI components
â”‚   â”œâ”€â”€ forms/                 # Form components
â”‚   â”œâ”€â”€ layout/                # Layout components
â”‚   â””â”€â”€ features/              # Feature-specific components
â”œâ”€â”€ lib/                       # Utility libraries and configurations
â”‚   â”œâ”€â”€ auth.ts                # Authentication utilities
â”‚   â”œâ”€â”€ db.ts                  # Database configuration
â”‚   â”œâ”€â”€ utils.ts               # General utilities
â”‚   â””â”€â”€ validations.ts         # Schema validations
â”œâ”€â”€ hooks/                     # Custom React hooks
â”œâ”€â”€ types/                     # TypeScript type definitions
â”‚   â”œâ”€â”€ global.d.ts            # Global type declarations
â”‚   â””â”€â”€ api.ts                 # API response types
â”œâ”€â”€ styles/                    # Additional CSS/styling files
â””â”€â”€ constants/                 # Application constants
```

## File Naming Standards

### Component Files
- **React Components**: PascalCase (`UserProfile.tsx`)
- **Pages/Layouts**: lowercase (`page.tsx`, `layout.tsx`)
- **API Routes**: lowercase (`route.ts`)

### Directory Names  
- **Route Segments**: lowercase with hyphens (`user-profile/`)
- **Route Groups**: parentheses with lowercase (`(auth)/`)
- **Component Directories**: lowercase (`components/`, `hooks/`)

### Utility Files
- **TypeScript**: camelCase (`userUtils.ts`)
- **Configuration**: kebab-case (`next.config.ts`)
- **Styles**: kebab-case (`globals.css`)

## App Router Integration

**Reference**: See `AI_NEXTJS_FRAMEWORK.MD` for complete implementation details.

### Structure Requirements
1. **Use `src/app/` exclusively** (No Pages Router)
2. **Follow route hierarchy** with proper conventions
3. **Include loading/error boundaries** (`loading.tsx`, `error.tsx`)
4. **Organize with route groups** when beneficial
5. **Implement API routes** using `app/api/*/route.ts`

### Component Organization
1. **Default to Server Components**
2. **Mark Client Components** with `'use client'`
3. **Follow Next.js patterns**
4. **Store reusables** in `src/components/`

## File Addition Guidelines

### New File Placement Process

1. **Use Decision Tree Above** to determine correct location
2. **Follow naming conventions** for appropriate case/extensions
3. **Maintain App Router patterns** per `AI_NEXTJS_FRAMEWORK.MD`
4. **Include support files** (`loading.tsx`, `error.tsx`, types)

### Prohibited Actions
- Creating files outside established structure
- Using Pages Router (`pages/` directory)
- Random component placement
- Skipping TypeScript definitions
- Ignoring Next.js conventions

## Quick Reference Checklist

**Before adding files:**
- [ ] Location follows established structure
- [ ] Naming convention correct
- [ ] App Router patterns followed
- [ ] TypeScript types included
- [ ] Error/loading states considered

---

## See Also

### ğŸ—ï¸ **Framework Integration**
- **AI_NEXTJS_FRAMEWORK.MD** - App Router patterns and Next.js file conventions
- **AI_ARCHITECTURE.MD** - How file structure reflects system architecture
- **AI_PROJECT_SETUP.MD** - Initial directory structure creation

### ğŸ› ï¸ **Implementation Support**
- **AI_CODING_STANDARDS.MD** - Code organization standards within files
- **AI_TESTING.MD** - Test file placement and organization patterns
- **AI_FEATURE_DEVELOPMENT.MD** - File structure decisions during feature development

### ğŸ“‹ **References and Examples**
- **AI_CODE_EXAMPLES.MD** - Code organization examples and patterns
- **AI_CONFIGURATION_REFERENCE.MD** - Configuration file templates and placement

### âš¡ **Quick Access**
- **AI_QUICK_REFERENCE.MD** - File placement decision tree and daily workflow
- **AI_ENVIRONMENT.MD** - IDE configuration for file navigation and organization

### ğŸ—‚ï¸ **Navigation**
- **AI_ALL_IN_ONE.MD** - Master index of all documentation

**Integration**: This structure works with `AI_NEXTJS_FRAMEWORK.MD` to ensure consistent, optimized Next.js architecture. Strict adherence required for all filesystem operations.
